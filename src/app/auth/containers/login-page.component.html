<div class="container">
  <div class="row">
    <div class="col-md-6 offset-md-3">
      <div class="knx-login__welcome">
        <img class="knx-login__logo" alt="Knab" src="../../../assets/images/knab-logo.svg">
        <h2 class="knx-login__subline">Verzekeren</h2>
        <p>Meld je aan met je e-mailadres en wachtwoord en ontdek hoeveel jij kunt besparen op je verzekeringen.</p>
      </div>
    </div>
  </div>

  <form [formGroup]="form.formGroup" (ngSubmit)="login($event)" (keyup.enter)="login($event)" autocomplete="off">
    <div class="row">
      <div class="col-md-6 offset-md-3">
          <cx-form-group
            [formControlName]="form.formConfig.email.formControlName"
            [options]="form.formConfig.email"></cx-form-group>

          <div class="login-password-wrapper">
            <cx-form-group
              [formControlName]="form.formConfig.password.formControlName"
              [options]="form.formConfig.password">
            </cx-form-group>

            <button type="button"
              *ngIf="form.formGroup.get('password').value"
              class="knx-login__showpassword knx-icon-eye"
              [class.knx-icon-eye-slash]="form.showPassword"
              [class.knx-icon-eye]="!form.showPassword"
              (click)="form.toggleShowPassword($event)"></button>
          </div>

          <button type="submit" class="knx-button knx-button--primary knx-button--fullwidth"
            [class.knx-button--pending]="pending$ | async">Inloggen</button>
      </div>
    </div>
      <div class="row">
      <div class="col-md-6 offset-md-3">
        <div class="knx-message knx-message--error" *ngIf="form.formGroup.valid && errorMessage">
            <div class="knx-message__header">Het inloggen is helaas niet gelukt, probeer het alsjeblieft opnieuw.</div>
            <div class="knx-message__content"><em>{{ errorMessage }}</em></div>
        </div>

        <div class="knx-login__actions">
          <ul class="knx-list--unstyled">
            <li><a tabindex="0" rel="nofollow noopener" target="_blank" (click)="goToPasswordReset()">Ik ben mijn wachtwoord vergeten</a></li>
            <li *ngIf="registrationLink" ><a tabindex="0" rel="nofollow noopener" (click)="goToRegister()">Of, maak een account aan</a></li>
          </ul>
        </div>
      </div>
    </div>
    </form>
</div>
